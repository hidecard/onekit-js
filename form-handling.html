<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OneKit Form Handling</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .demo { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        form { margin: 10px 0; }
        label { display: block; margin: 5px 0; }
        input, select, textarea { margin: 5px 0; padding: 5px; }
        .error { color: red; }
        #result { background: #f9f9f9; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>OneKit Form Handling Demo</h1>

    <div class="demo">
        <h2>Form Data Serialization</h2>
        <h3>Usage Syntax</h3>
        <pre><code>// Serialize form data
const formData = ok('#myForm').form_data();
console.log(formData);

// Reset form
ok('#myForm').reset();</code></pre>
        <form id="data-form">
            <label>Name: <input type="text" name="name" value="John Doe"></label>
            <label>Email: <input type="email" name="email" value="john@example.com"></label>
            <label>Subscribe: <input type="checkbox" name="subscribe" checked></label>
            <label>Gender:
                <select name="gender">
                    <option value="male">Male</option>
                    <option value="female" selected>Female</option>
                </select>
            </label>
            <button type="button" id="serialize">Serialize Form Data</button>
        </form>
        <div id="data-result"></div>
    </div>

    <div class="demo">
        <h2>Form Validation</h2>
        <form id="validation-form">
            <label>Name: <input type="text" name="name"></label>
            <label>Email: <input type="email" name="email"></label>
            <label>Password: <input type="password" name="password"></label>
            <label>Confirm Password: <input type="password" name="confirm"></label>
            <button type="button" id="validate">Validate Form</button>
        </form>
        <div id="validation-result"></div>
    </div>

    <div class="demo">
        <h2>Input Masks</h2>
        <label>Phone: <input type="tel" id="phone-mask"></label>
        <label>Date: <input type="text" id="date-mask"></label>
        <label>Credit Card: <input type="text" id="card-mask"></label>
    </div>

    <script src="./onekit.js"></script>
    <script>
        // Form data serialization
        ok('#serialize').click(function() {
            const data = ok('#data-form').form_data();
            ok('#data-result').html('<pre>' + JSON.stringify(data, null, 2) + '</pre>');
        });

        // Form validation
        ok('#validate').click(function() {
            const isValid = ok('#validation-form').validateForm({
                'name': 'required',
                'email': 'required|email',
                'password': 'required|min:6',
                'confirm': 'required|match:password'
            });

            ok('#validation-result').text(isValid ? 'Form is valid!' : 'Form has errors. Check the fields.');
        });

        // Input masks
        ok('#phone-mask').applyMask('phone');
        ok('#date-mask').applyMask('date');
        ok('#card-mask').applyMask('creditCard');
    </script>
</body>
</html>
