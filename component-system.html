<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OneKit Component System</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .demo { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        .counter { background: #f0f0f0; padding: 20px; border-radius: 8px; text-align: center; }
        .user-card { background: #e8f4fd; padding: 20px; border-radius: 8px; margin: 10px 0; }
        button { margin: 5px; padding: 5px 10px; }
    </style>
</head>
<body>
    <h1>OneKit Component System Demo</h1>

    <div class="demo">
        <h2>Counter Component</h2>
        <div id="counter-container"></div>
        <button id="create-counter">Create Counter</button>
    </div>

    <div class="demo">
        <h2>User Card Component</h2>
        <div id="user-container"></div>
        <button id="create-user">Create User Card</button>
    </div>

    <script src="./onekit.js"></script>
    <script>
        // Register Counter Component
        ok.component.register('counter', {
            data: {
                count: 0
            },
            template: '<div class="counter"><h3>Counter: {{count}}</h3><button class="increment">Increment</button><button class="decrement">Decrement</button></div>',
            methods: {
                increment() {
                    this.state.count++;
                    this.update();
                },
                decrement() {
                    this.state.count--;
                    this.update();
                }
            },
            mounted: function() {
                ok(this.element).on('click', '.increment', () => this.increment());
                ok(this.element).on('click', '.decrement', () => this.decrement());
            }
        });

        // Register User Card Component
        ok.component.register('user-card', {
            props: ['user'],
            template: '<div class="user-card"><h4>{{user.name}}</h4><p>Email: {{user.email}}</p><p>Age: {{user.age}}</p></div>'
        });

        // Create components
        ok('#create-counter').click(function() {
            const counter = ok.component.create('counter');
            ok.component.mount(counter, '#counter-container');
        });

        ok('#create-user').click(function() {
            const user = { name: 'John Doe', email: 'john@example.com', age: 30 };
            const userCard = ok.component.create('user-card', { user });
            ok.component.mount(userCard, '#user-container');
        });
    </script>
</body>
</html>
