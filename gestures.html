<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OneKit Gestures</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .demo { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        .gesture-area { width: 300px; height: 200px; background: #f0f0f0; border: 2px dashed #ccc; display: flex; align-items: center; justify-content: center; font-size: 18px; touch-action: none; }
        #log { background: #f9f9f9; padding: 10px; margin: 10px 0; height: 200px; overflow-y: auto; }
    </style>
</head>
<body>
    <h1>OneKit Gestures Demo</h1>
    <div id="log"></div>

    <div class="demo">
        <h2>Gesture Area</h2>
        <p>Try swiping, tapping, long pressing, or pinching on the area below (works best on touch devices)</p>
        <div id="gesture-area" class="gesture-area">Touch me!</div>
    </div>

    <div class="demo">
        <h2>Gesture Events</h2>
        <p>Supported gestures: swipe (left/right/up/down), tap, longpress, pinch</p>
    </div>

    <script src="./onekit.js"></script>
    <script>
        function log(message) {
            const logDiv = ok('#log');
            const time = new Date().toLocaleTimeString();
            logDiv.append(`<div>${time}: ${message}</div>`);
            logDiv.elements[0].scrollTop = logDiv.elements[0].scrollHeight;
        }

        // Enable gestures on the area
        ok('#gesture-area').gesture();

        // Listen for gesture events
        ok('#gesture-area').on('swipe', function(e) {
            log(`Swipe ${e.detail.direction}`);
        });

        ok('#gesture-area').on('swipeleft', function(e) {
            log('Swiped left');
        });

        ok('#gesture-area').on('swiperight', function(e) {
            log('Swiped right');
        });

        ok('#gesture-area').on('swipeup', function(e) {
            log('Swiped up');
        });

        ok('#gesture-area').on('swipedown', function(e) {
            log('Swiped down');
        });

        ok('#gesture-area').on('tap', function(e) {
            log(`Tapped at (${e.detail.x}, ${e.detail.y})`);
        });

        ok('#gesture-area').on('longpress', function(e) {
            log(`Long press at (${e.detail.x}, ${e.detail.y})`);
        });

        ok('#gesture-area').on('pinchstart', function(e) {
            log(`Pinch started with distance ${e.detail.distance}`);
        });

        ok('#gesture-area').on('pinchmove', function(e) {
            log(`Pinch scale: ${e.detail.scale.toFixed(2)}`);
        });

        ok('#gesture-area').on('pinchend', function(e) {
            log('Pinch ended');
        });
    </script>
</body>
</html>
